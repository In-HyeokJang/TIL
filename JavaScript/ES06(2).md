# ES6 문법 정리(2)

[ES6 문법 정리 1편](<./ES06(1).md>)

# 목차

- [10. Module](#10-module)
- [11. Map, Set, Weakmap, WeakSet](#11-map-set-weakmap-weakset)
- [12. Proxy](#12-proxy)

# 10. Module

애플리케이션의 크기가 커지면서 파일을 여러개로 분리할 필요가 생긴다. 이 때 분리된 파일 각가을 모듈(Module)이라고 부른다.

모듈에 `export`,`import`를 사용하면 다른 모듈을 불러와 불러온 모듈에 잇는 함수를 호출하는 것과 같은 기능 공유가 가능해진다.

## 10-1. export

`export`를 변수나 함수 앞에 붙이면 외부 모듈에서 해당 변수나 함수에 접근할 수 있다.(_모듈 내보내기_)

```js
//my-moduel1.js
function cube(x){
    retrun x * x * x;
}
const foo = Math.PI + Math.SQRT2;
let graph = {
    options: {
        color: 'white',
        thickness: '2px',
    },
    	draw(){
            console.log('From graph draw frunction');
        }
}
export { cub, foo, graph};
```

내보낼 것이 하나인 경우에는 `export default`를 사용해서 내보내기 한다.

```js
// my-module2.js
export default function cube(x) {
  return x * x * x;
}
```

## 10-2. import

`import`는 외부 모듈의 기능을 가져올 수 있다.(_모듈가져오기_)

```js
import { cube, foo, graph } from "./my-module1.js";
graph.options = {
  color: "blue",
  thickness: "3px",
};
graph.draw();
console.log(cube(3)); //27
console.log(foo); // 4.555806215962888
```

`export default`를 가져올 때에도 비슷하다.

```js
import cube from "./my-module2.js";
console.log(cube(3));
//27
```

module에 대한 더욱 자세한 설명은 여기 [MDN - import](https://developer.mozilla.org/ko/docs/Web/JavaScript/Reference/Statements/import), [MDN - export](https://developer.mozilla.org/ko/docs/Web/JavaScript/Reference/Statements/export)

# 11. Map, Set, Weakmap, Weakset

## 11-1. Map

`Map`은 키가 있는 데이터를 저장한다는 점에서 객체와 비슷하지만 `Map`은 키에 다양한 자료형을 허용한다는 점에서 차이가 있다.

```js
let map = new Map(); // 맵을 만든다
let obj = { name: "jang" }; // map의 key로 object도 가능하다.

// map.set(key, value) key를 이용해 value를 저장
map.set("1", "string"); //string key
map.set(1, 10); // num key
map.set(true, true); // boolean key
map.set(obj, 30); // object key
```

객체는 키를 문자형으로 변환하지만 `Map`은 키의 타입을 변환시키지 않는다.

```js
// map.get(key) key에 해당하는 값 반환
console.log(map.get("1"));
console.log(map.get(1));
console.log(map.get(true));
console.log(map.get(obj));
// string
// 10
// true
// 30
```

**`for..of`로 `map`순회**

```js
let myMap = new Map();
myMap.set(0, "zero");
myMap.set(1, "one");

for (let [key, value] of myMap) {
  console.log(key + " = " + value);
}
// 0 = zero
// 1 = one

for (let key of myMap.keys()) {
  console.log(key);
}
// 0
// 1

for (let value of myMap.values()) {
  console.log(value);
}
// zero
// one

for (let [key, value] of myMap.entries()) {
  console.log(key + " = " + value);
}
// 0 = zero
// 1 = one
```

## 11-2. Set

`Set`은 중복을 허용하지 않는 값을 모아놓은 컬렉션이다. 키가 없느 값이 저장된다.

```js
let mySet = new Set();

// set.add(value) set에 value를 추가하고 set 자신을 반환한다.
mySet.add(1); // Set{1}
mySet.add(5); // Set{1,5}
mySet.add(5); // Set{1,5}
mySet.add('some text'); // SEt{1,5 'some text'}
var o = {a:1, b:2};
mySet.add(o);

mySet.add({a:1, b:2}); // o와 다른 객체를 참조하므로 괜찮음

mySet.has(1); //true
mySet.has(3); //false, 3은 set에 추가되지 않았음
mySet.has(5); // true
mySet.has(Math.sqrt(25)); // true
mySet.has('Sone Text'.toLowerCase()); //true
mySet.has(o); // true

mySet.size://5

mySet.delete(5); //set에서  5제거
mySet.has(5); //false

mySet.size; // 4
console.log(mySet);
//Set {1, "some text", Object {a:1, b:2}, Object{a:1, b:2}}
```
